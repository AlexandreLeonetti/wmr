(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{9993:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/train/train",function(){return s(2257)}])},1429:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var n=s(7568),r=s(4051),a=s.n(r),i=s(5893),o=s(7294),l=s(1855),c=s(6233),d=s(5301),u=s(1664),h=s.n(u);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Props,t=(e.Icon,e.title),s=e.destination,n=e.onClick;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h(),{className:"",href:s,children:(0,i.jsx)("div",{onClick:function(){return null===n||void 0===n?void 0:n()},className:"  font-bold cursor-pointer items-center space-x-2 px-4 py-2\n                           rounded-lg hover:bg-gray-100  transition-all duration-200 border "+("Log In"==t?" text-white bg-blue-500 hover:bg-blue-700":" text-blue-500 border-blue-500"),children:t})})})};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Props,t=e.text,s=e.value;return e.onClick,(0,i.jsx)("div",{className:" text-gray-500 flex group items-center space-x-2 px-1 py-4 transition-all duration-200",children:(0,i.jsxs)("p",{className:"hidden md:inline-flex ",children:[t," :  ",(0,i.jsxs)("span",{className:"px-2 text-blue-700",children:[s,"     "]})]})})},x=s(3299);function b(){return(b=(0,n.Z)(a().mark((function e(t,s){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.getSession)({req:t});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(e){var t=(0,x.useSession)().data,s=(0,o.useState)(null),r=s[0],u=s[1];(0,o.useEffect)((function(){h()}),[]);var h=function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching players"),e.prev=1,e.next=4,fetch("/api/players",{method:"GET",headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.t0=u,e.next=8,t.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1),200!==t.status&&console.log("something went wrong"+t),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(1),console.log("there was an error reading from the db, ",e.t2);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return console.log({data:t}),function(e,t){b.apply(this,arguments)}(),(0,i.jsx)("div",{className:" border-b border-grey-100 bg-white ",children:(0,i.jsxs)("div",{className:"lg:max-w-6xl md:flex md:justify-between py-1 mx-auto ",children:[(0,i.jsx)("div",{className:" hidden md:flex md:justify-start text-xs md:items-start",children:1==e.topStats&&(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(f,{text:"Countries",value:"dummy"}),(0,i.jsx)(f,{text:"Players",value:r?r.length:"none"}),(0,i.jsx)(f,{text:"Top Country",value:"Dummy"}),(0,i.jsx)(f,{text:"Fastest Player",value:"Dummy"})]})}),(0,i.jsx)("div",{className:"w-auto"}),(0,i.jsxs)("div",{className:" flex justify-center md:justify-end text-xs items-center space-x-2 ",children:[(0,i.jsx)(m,{Icon:l.Z,title:"Ranking",destination:"/"}),(0,i.jsx)(m,{Icon:c.Z,title:"Calculate",destination:"/calculate/calculate"}),(0,i.jsx)(m,{Icon:c.Z,title:"Train",destination:"/train/train"}),(0,i.jsx)(m,{destination:"",onClick:t?x.signOut:x.signIn,Icon:d.Z,title:t?"Log Out":"Log In"})]})]})})}},2257:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var n=s(5893),r=(s(2770),s(9008)),a=s.n(r),i=(s(6501),s(1429)),o=s(7294),l=s(4111),c=s(1438),d=s(2951),u=s(8029),h=s(460),m=s(4924);var f=function(e){(0,u.Z)(s,e);var t=(0,h.Z)(s);function s(e){var n;return(0,c.Z)(this,s),n=t.call(this,e),(0,m.Z)((0,l.Z)(n),"backgroundGray",(function(){document.body.style.backgroundColor="rgb(31 41 55)"})),(0,m.Z)((0,l.Z)(n),"backgroundWhite",(function(){document.body.style="background-color:white;"})),(0,m.Z)((0,l.Z)(n),"stopFlasher",(function(){clearInterval(n.updateFlash),console.log("stopFlasher")})),(0,m.Z)((0,l.Z)(n),"launchFlasher",(function(){n.updateFlash=setInterval((function(){var e=n.props.series[n.state.ith];n.setState({cflash:e}),console.log(e),setTimeout((function(){return n.setState({cflash:""})}),2*n.props.period/3),n.state.ith==n.props.numberOfFlashes-1&&(clearInterval(n.updateFlash),setTimeout((function(){return n.setState({flashing:!1})}),2*n.props.period/3)),n.setState({ith:n.state.ith+1})}),n.props.period)})),n.state={ith:0,concatedStrNumber:"",sumOfSerie:0,flashing:!0,succeeded:!1,cflash:"",cresult:""},n.check=n.check.bind((0,l.Z)(n)),n}return(0,d.Z)(s,[{key:"componentDidMount",value:function(){this.launchFlasher(),this.backgroundGray()}},{key:"componentWillUnmount",value:function(){this.backgroundWhite(),this.stopFlasher(),console.log("FlashClass Will unmount"),this.state.succeeded}},{key:"check",value:function(e){for(var t=0,s=0;s<this.props.numberOfFlashes;s++)t+=parseInt(this.props.series[s]);this.setState({cresult:e}),parseInt(e)==parseInt(t)&&(this.setState({succeeded:!0}),this.props.addRatio("success"),this.props.addSession("session"))}},{key:"render",value:function(){var e=this,t=this.state.flashing,s=this.state.succeeded;return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"bg-gray-800 grid grid-rows-5 ",children:[(0,n.jsx)("div",{className:" bg-gray-800 w-full"}),(0,n.jsx)("div",{className:"bg-gray-800 w-full",children:(0,n.jsx)("h1",{className:" betweenVoid text-white text-9xl text-center font-extrabold ",children:t&&this.state.cflash})}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:"px-6",children:(0,n.jsx)("button",{className:"bg-gray-500 w-full mt-5 text-gray-800 font-black inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base ",onClick:function(){return e.props.cancel()},children:"Home"})}),(0,n.jsx)("div",{className:"bg-gray-800 w-full "})]})}),!t&&!s&&(0,n.jsxs)("div",{className:"px-6 grid grid-rows-4",children:[(0,n.jsx)("div",{}),(0,n.jsx)("label",{className:"block text-sm text-center text-white font-black",children:"Enter Result : "}),(0,n.jsx)("input",{type:"number",className:"py-3 px-4 block w-full border-black rounded-xl shadow-sm focus:outline-none border-gray-300 ",autoFocus:!0,value:this.state.cresult,onChange:function(t){return e.check(t.target.value)}}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:"px-6",children:(0,n.jsx)("button",{className:"bg-gray-500 w-full mt-5 text-gray-800 font-black inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base ",onClick:function(){return e.props.cancel()},children:"Home"})})]})]})}}]),s}(o.Component),x=function(e){(0,u.Z)(s,e);var t=(0,h.Z)(s);function s(e){var n;return(0,c.Z)(this,s),(n=t.call(this,e)).handleChange=n.handleChange.bind((0,l.Z)(n)),n}return(0,d.Z)(s,[{key:"handleChange",value:function(e){this.props.onParamChange(e.target.value)}},{key:"render",value:function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mx-6  grid grid-cols-12 ".concat(this.props.className),children:[(0,n.jsx)("label",{className:"col-span-5 mt-4 text-gray-600 font-extrabold block text-xs font-medium ",children:this.props.title}),(0,n.jsx)("div",{className:"col-span-4"}),(0,n.jsx)("input",{className:"col-span-3 focus:outline-none text-right text-base text-gray-700 font-bold outline-1 py-3 px-4 block rounded-md",type:"number",value:this.props.value,onChange:this.handleChange})]})})}}]),s}(o.Component),b=s(1664),p=s.n(b);var g=function(e){var t=e.ratio.length+"/"+e.session.length,s=(100*e.ratio.length/e.session.length).toFixed(2);return(0,n.jsxs)("div",{className:"Stats ",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("div",{className:"bcontainer",children:[(0,n.jsx)("div",{className:"item text-white",children:"Correct Answer !"}),(0,n.jsx)("div",{className:"cover bg-emerald-300"}),(0,n.jsx)("div",{className:"circle bg-emerald-500"}),(0,n.jsx)("div",{className:"circle bg-emerald-500 delay1"}),(0,n.jsx)("div",{className:"circle bg-emerald-500 delay2"}),(0,n.jsx)("div",{className:"circle bg-emerald-500 delay3"})]})}),(0,n.jsx)("div",{className:" innerStats mt-10",children:(0,n.jsxs)("ul",{className:"text-sm",children:[(0,n.jsxs)("li",{className:"grid grid-cols-2 h-12 mx-6 border-b border-gray-200 dark:border-gray-700 py-3 ",children:[(0,n.jsx)("div",{className:"col-span-1",children:"Score "}),(0,n.jsxs)("div",{className:"col-span-1 text-right",children:[" ",t]})," "]}),(0,n.jsxs)("li",{className:"h-12 grid grid-cols-2 mx-6 border-b border-gray-200 dark:border-gray-700 py-3",children:[(0,n.jsx)("div",{children:"Ratio "}),(0,n.jsxs)("div",{className:"text-right",children:[s," %"]})]}),(0,n.jsxs)("li",{className:"grid grid-cols-2 h-12 mx-6 border-b border-gray-200 dark:border-gray-700 py-3",children:[(0,n.jsx)("div",{children:"Speed in numbers/min"}),(0,n.jsxs)("div",{className:"text-right",children:[" ",60/(e.period/1e3)," "]})]})]})})]})},v=function(e,t){for(var s="",n=0;n<parseInt(e);n++){var r=Math.ceil(t),a=Math.floor(Math.random()*(10-r)+r);0!=a?s+=String(a):n--}return s},j=function(e){(0,u.Z)(s,e);var t=(0,h.Z)(s);function s(e){var n;return(0,c.Z)(this,s),(n=t.call(this,e)).state={mode:"home",flasher:!1,contentBtn:"START",cperiod:1200,cnumberOfDigits:1,cnumberOfFlashes:3,clow:6,series:[],ratio:[],session:[]},n.handleNumberOfDigits=n.handleNumberOfDigits.bind((0,l.Z)(n)),n.handlePeriod=n.handlePeriod.bind((0,l.Z)(n)),n.handleNOfFlashes=n.handleNOfFlashes.bind((0,l.Z)(n)),n.handleLow=n.handleLow.bind((0,l.Z)(n)),n.handleStartFlashing=n.handleStartFlashing.bind((0,l.Z)(n)),n.handleSeries=n.handleSeries.bind((0,l.Z)(n)),n.handleRatio=n.handleRatio.bind((0,l.Z)(n)),n.handleSession=n.handleSession.bind((0,l.Z)(n)),n.goHome=n.goHome.bind((0,l.Z)(n)),n}return(0,d.Z)(s,[{key:"handleNumberOfDigits",value:function(e){this.setState({cnumberOfDigits:e})}},{key:"handlePeriod",value:function(e){this.setState({cperiod:e})}},{key:"handleNOfFlashes",value:function(e){this.setState({cnumberOfFlashes:e})}},{key:"handleLow",value:function(e){this.setState({clow:e})}},{key:"handleRatio",value:function(e){var t=this.state.ratio;t.push(e),this.setState({ratio:t})}},{key:"handleSession",value:function(e){var t=this.state.session;t.push(e),this.setState({session:t}),this.setState({mode:"stats"}),this.setState({contentBtn:"START"})}},{key:"goHome",value:function(){console.log("goHome just called"),console.log(this.state.mode),this.setState({mode:"home"}),this.setState({contentBtn:"START"}),console.log(this.state.mode)}},{key:"handleStartFlashing",value:function(){console.log("handleStartFlashing just called"),"flashing"==this.state.mode?(this.setState({mode:"home"}),this.setState({contentBtn:"START"})):"stats"==this.state.mode?(this.handleSeries(),this.setState({mode:"flashing"}),this.setState({contentBtn:"Stop Now"})):"home"==this.state.mode&&(this.setState({contentBtn:"Stop"}),this.handleSeries(),this.setState({mode:"flashing"}))}},{key:"handleSeries",value:function(){for(var e=this.state.series,t=0;t<this.state.cnumberOfFlashes;t++){var s=v(this.state.cnumberOfDigits,this.state.clow);e[t]=s}console.log("master series"),console.log(e),this.setState({series:e})}},{key:"render",value:function(){var e=this,t=this.state.cperiod,s=this.state.cnumberOfDigits,r=this.state.cnumberOfFlashes,a=this.state.clow,i=this.state.ratio,o=(this.state.flasher,this.state.session),l=this.state.series,c=this.state.mode,d=this.state.contentBtn;return(0,n.jsx)("div",{className:" flex flex-col justify-center items-start max-w-2xl border-gray-200 dark:border-gray-700 mx-auto pb-16",children:(0,n.jsx)("div",{className:"w-full",children:(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:" w-full ",children:["flashing"==c&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(f,{period:t,series:l,numberOfFlashes:r,addRatio:this.handleRatio,addSession:this.handleSession,cancel:this.goHome})}),"stats"==c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{ratio:i,session:o,period:t}),(0,n.jsxs)("div",{className:"grid grid-col-1 px-6",children:[(0,n.jsx)("button",{className:"mt-10 bg-emerald-400 text-white font-black w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base",onClick:function(){return e.handleStartFlashing()},children:d}),(0,n.jsx)("button",{className:"mt-5 bg-white text-black font-black w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base",onClick:function(){return e.goHome()},children:"Home"})]})]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 ",children:"home"==c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:" inline-flex items-center justify-center",children:(0,n.jsxs)("div",{className:"py-20 inline-flex items-center justify-center",children:[(0,n.jsx)("button",{className:"disk bg-emerald-400 text-4xl text-white w-40 font-black inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-2xl shadow-sm text-base",onClick:function(){return e.handleStartFlashing()},children:d}),(0,n.jsx)("div",{className:"circle bg-emerald-500"}),(0,n.jsx)("div",{className:"circle bg-emerald-500 delay1"}),(0,n.jsx)("div",{className:"circle bg-emerald-500 delay2"}),(0,n.jsx)("div",{className:"circle bg-emerald-500 delay3"})]})}),(0,n.jsx)(x,{className:"border-b border-gray-100",title:"Number Of Digits",value:s,onParamChange:this.handleNumberOfDigits}),(0,n.jsx)(x,{className:"border-b border-gray-100",title:"Period",value:t,onParamChange:this.handlePeriod}),(0,n.jsx)(x,{className:"border-b border-gray-100",title:"Number Of Times",value:r,onParamChange:this.handleNOfFlashes}),(0,n.jsx)(x,{title:"Lower Bound",value:a,onParamChange:this.handleLow}),(0,n.jsx)(p(),{href:"/",children:(0,n.jsx)("div",{className:" cursor-pointer mt-5 bg-white text-black font-black w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base",children:"Home"})})]})})]})})})}}]),s}(o.Component);function y(){return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:" bg-zinc-50 mx-auto h-screen ",children:[(0,n.jsx)(i.Z,{topStats:!1}),(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"World Math Ranking"})}),(0,n.jsx)(j,{})]})})}},2770:function(e){"use strict";e.exports=next},4111:function(e,t,s){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}s.d(t,{Z:function(){return n}})},1438:function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}s.d(t,{Z:function(){return n}})},2951:function(e,t,s){"use strict";function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}s.d(t,{Z:function(){return r}})},460:function(e,t,s){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function r(e){return n(e)}s.d(t,{Z:function(){return o}});var a=s(4111);function i(e,t){return!t||"object"!==((s=t)&&s.constructor===Symbol?"symbol":typeof s)&&"function"!==typeof t?(0,a.Z)(e):t;var s}function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=r(e);if(t){var a=r(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return i(this,s)}}},8029:function(e,t,s){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}s.d(t,{Z:function(){return r}})}},function(e){e.O(0,[480,774,888,179],(function(){return t=9993,e(e.s=t);var t}));var t=e.O();_N_E=t}]);